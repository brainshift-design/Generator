function genEllipseIsValid(genEllipse)
{
    return genEllipse.x      != null && !isNaN(genEllipse.x     )
        && genEllipse.y      != null && !isNaN(genEllipse.y     )
        && genEllipse.width  != null && !isNaN(genEllipse.width )
        && genEllipse.height != null && !isNaN(genEllipse.height)
        && genEllipse.from   != null && !isNaN(genEllipse.from  )
        && genEllipse.to     != null && !isNaN(genEllipse.to    )
        && genEllipse.inner  != null && !isNaN(genEllipse.inner );
}



function figCreateEllipse(genEllipse)
{
    if (!genEllipseIsValid(genEllipse))
        return null;
    
    
    const figEllipse = figma.createEllipse();


    figUpdateEllipseData(figEllipse, genEllipse);

    
    if (figPoints.includes(figEllipse))
        updatePointSize(figEllipse);
        
    else
        setObjectProps(figEllipse, genEllipse);

    
    return figEllipse;
}



function figUpdateEllipse(figEllipse, genEllipse)
{
    figUpdateEllipseData(figEllipse, genEllipse);

    setObjectProps(figEllipse, genEllipse);
}



function figUpdateEllipseData(figEllipse, genEllipse)
{
    figEllipse.arcData =
    {
        startingAngle: genEllipse.from /360*(Math.PI*2),
        endingAngle:   genEllipse.to   /360*(Math.PI*2),
        innerRadius:   Math.min(Math.max(0, genEllipse.inner/100), 1)
    };

    setObjectTransform(figEllipse, genEllipse);
}